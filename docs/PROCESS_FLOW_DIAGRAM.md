# Fabric RAG Application - Process Flow Diagram

## ğŸ”„ Detailed Process Flow Overview

### **Main Application Flow**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              APPLICATION STARTUP                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  1. Load Environment Variables                                                     â”‚
â”‚  2. Initialize Streamlit Session State                                            â”‚
â”‚  3. Setup Authentication (Azure AD)                                               â”‚
â”‚  4. Initialize Caching System                                                     â”‚
â”‚  5. Load Configuration Settings                                                   â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SIDEBAR CONFIGURATION                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Data Source   â”‚    â”‚   Batch Size    â”‚    â”‚   Date Range    â”‚                â”‚
â”‚  â”‚   Selection     â”‚    â”‚   Configuration â”‚    â”‚   Filter        â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Table Picker  â”‚    â”‚ â€¢ Min: 100      â”‚    â”‚ â€¢ Start Date    â”‚                â”‚
â”‚  â”‚ â€¢ Auto-Fetch    â”‚    â”‚ â€¢ Max: 5000     â”‚    â”‚ â€¢ End Date      â”‚                â”‚
â”‚  â”‚ â€¢ Manual Select â”‚    â”‚ â€¢ Default: 1000 â”‚    â”‚ â€¢ Apply Filter  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              NAVIGATION SELECTION                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Data Preview  â”‚    â”‚   SQL Editor    â”‚    â”‚   RAG Analysis  â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Table Display â”‚    â”‚ â€¢ Query Builder â”‚    â”‚ â€¢ Question Inputâ”‚                â”‚
â”‚  â”‚ â€¢ Schema View   â”‚    â”‚ â€¢ Results Grid  â”‚    â”‚ â€¢ AI Analysis   â”‚                â”‚
â”‚  â”‚ â€¢ Data Stats    â”‚    â”‚ â€¢ Export Data   â”‚    â”‚ â€¢ Code Gen      â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DECISION POINT: NAVIGATION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Data Preview  â”‚    â”‚   SQL Editor    â”‚    â”‚   RAG Analysis  â”‚                â”‚
â”‚  â”‚   Selected?     â”‚    â”‚   Selected?     â”‚    â”‚   Selected?     â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚       YES       â”‚    â”‚       YES       â”‚    â”‚       YES       â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Preview Flow  â”‚    â”‚   SQL Editor    â”‚    â”‚   RAG Pipeline  â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚   Flow          â”‚    â”‚   Flow          â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Data Preview Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA PREVIEW FLOW                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  1. Check if tables are selected                                                   â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ NO: Show message "Please select tables to preview"                         â”‚
â”‚     â”‚   â””â”€ Return to sidebar                                                      â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â””â”€ YES: Continue to data fetching                                             â”‚
â”‚                                                                                     â”‚
â”‚  2. Fetch data from Microsoft Fabric GraphQL API                                  â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ SUCCESS: Store data in session state                                       â”‚
â”‚     â”‚   â””â”€ Continue to display                                                    â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â””â”€ ERROR: Show error message and retry option                                 â”‚
â”‚                                                                                     â”‚
â”‚  3. Display data preview                                                           â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Show table selection                                                        â”‚
â”‚     â”œâ”€ Display schema information                                                  â”‚
â”‚     â”œâ”€ Show data statistics                                                        â”‚
â”‚     â””â”€ Display sample data (first 100 rows)                                       â”‚
â”‚                                                                                     â”‚
â”‚  4. User interactions                                                              â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Change table selection                                                      â”‚
â”‚     â”œâ”€ Adjust batch size                                                           â”‚
â”‚     â”œâ”€ Apply date filters                                                          â”‚
â”‚     â””â”€ Export data                                                                 â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” SQL Editor Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SQL EDITOR FLOW                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  1. Initialize SQL Editor                                                          â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Load connection settings                                                    â”‚
â”‚     â”œâ”€ Setup ODBC driver selection                                                â”‚
â”‚     â””â”€ Initialize query history                                                    â”‚
â”‚                                                                                     â”‚
â”‚  2. User enters SQL query                                                          â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Validate SQL syntax                                                        â”‚
â”‚     â”‚   â”œâ”€ VALID: Continue to execution                                           â”‚
â”‚     â”‚   â””â”€ INVALID: Show syntax error and highlight issues                        â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â””â”€ Check for dangerous operations (DROP, DELETE, etc.)                        â”‚
â”‚         â”œâ”€ SAFE: Continue to execution                                             â”‚
â”‚         â””â”€ DANGEROUS: Show warning and require confirmation                        â”‚
â”‚                                                                                     â”‚
â”‚  3. Execute SQL query                                                              â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Connect to Fabric SQL endpoint                                              â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Execute query                                                  â”‚
â”‚     â”‚   â””â”€ ERROR: Show connection error and retry options                         â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Execute query                                                               â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Display results                                                â”‚
â”‚     â”‚   â””â”€ ERROR: Show execution error and suggestions                            â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â””â”€ Handle large result sets                                                   â”‚
â”‚         â”œâ”€ SMALL: Display full results                                            â”‚
â”‚         â””â”€ LARGE: Show pagination and download options                            â”‚
â”‚                                                                                     â”‚
â”‚  4. Display results                                                               â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Show result count                                                          â”‚
â”‚     â”œâ”€ Display data grid                                                          â”‚
â”‚     â”œâ”€ Show execution time                                                        â”‚
â”‚     â””â”€ Provide export options                                                     â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¤– RAG Analysis Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              RAG ANALYSIS FLOW                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  1. User enters question                                                           â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Validate question format                                                    â”‚
â”‚     â”‚   â”œâ”€ VALID: Continue to processing                                          â”‚
â”‚     â”‚   â””â”€ INVALID: Show format guidance                                          â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â””â”€ Check question length                                                       â”‚
â”‚         â”œâ”€ ACCEPTABLE: Continue                                                   â”‚
â”‚         â””â”€ TOO LONG: Suggest breaking into smaller questions                      â”‚
â”‚                                                                                     â”‚
â”‚  2. Intelligent table selection                                                    â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Analyze question keywords                                                  â”‚
â”‚     â”œâ”€ Match keywords to available tables                                         â”‚
â”‚     â”œâ”€ Auto-select relevant tables                                                â”‚
â”‚     â””â”€ Allow manual override                                                      â”‚
â”‚                                                                                     â”‚
â”‚  3. Status bar updates: "Step 1: Embedding user question"                        â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Generate question embedding using OpenAI API                               â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Continue to data fetching                                    â”‚
â”‚     â”‚   â””â”€ ERROR: Show embedding error and retry options                         â”‚
â”‚     â”‚                                                                               â”‚
â”‚  4. Status bar updates: "Step 2: Connecting to Fabric SQL endpoint"               â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Establish connection to Fabric SQL                                         â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Continue to vector search                                    â”‚
â”‚     â”‚   â””â”€ ERROR: Show connection error and authentication issues                 â”‚
â”‚     â”‚                                                                               â”‚
â”‚  5. Status bar updates: "Step 3: Running semantic vector search (hybrid RAG)"    â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Fetch embeddings from database                                            â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Perform vector search                                        â”‚
â”‚     â”‚   â””â”€ ERROR: Show data fetching error                                       â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Perform FAISS vector search                                               â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Get top-N similar results                                    â”‚
â”‚     â”‚   â””â”€ ERROR: Show search error                                              â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Fetch raw data for top results                                            â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Prepare context for LLM                                      â”‚
â”‚     â”‚   â””â”€ ERROR: Show data retrieval error                                      â”‚
â”‚     â”‚                                                                               â”‚
â”‚  6. Status bar updates: "Step 4: Preparing LLM context and prompt"               â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Prepare schema information                                                â”‚
â”‚     â”œâ”€ Create sample data CSV                                                    â”‚
â”‚     â”œâ”€ Build context string                                                       â”‚
â”‚     â””â”€ Construct intelligent prompt                                              â”‚
â”‚                                                                                     â”‚
â”‚  7. Status bar updates: "Step 5: Generating reasoning with LLM"                  â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Send reasoning prompt to OpenAI API                                       â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Get AI reasoning                                             â”‚
â”‚     â”‚   â””â”€ ERROR: Show API error and retry options                               â”‚
â”‚     â”‚                                                                               â”‚
â”‚  8. Status bar updates: "Step 6: Generating code with LLM"                       â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Send code generation prompt to OpenAI API                                 â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Get generated code                                           â”‚
â”‚     â”‚   â””â”€ ERROR: Show code generation error                                     â”‚
â”‚     â”‚                                                                               â”‚
â”‚  9. Status bar updates: "Step 7: Executing generated code"                       â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Validate generated code                                                   â”‚
â”‚     â”‚   â”œâ”€ VALID: Execute code safely                                            â”‚
â”‚     â”‚   â””â”€ INVALID: Show validation error                                        â”‚
â”‚     â”‚                                                                               â”‚
â”‚     â”œâ”€ Execute code in safe environment                                          â”‚
â”‚     â”‚   â”œâ”€ SUCCESS: Display results and insights                                 â”‚
â”‚     â”‚   â””â”€ ERROR: Show execution error and debugging info                        â”‚
â”‚     â”‚                                                                               â”‚
â”‚  10. Display results                                                              â”‚
â”‚      â”‚                                                                              â”‚
â”‚      â”œâ”€ Show AI reasoning                                                        â”‚
â”‚      â”œâ”€ Display generated code                                                   â”‚
â”‚      â”œâ”€ Show execution results                                                   â”‚
â”‚      â”œâ”€ Provide visualizations                                                   â”‚
â”‚      â””â”€ Offer export options                                                     â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ERROR HANDLING FLOW                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Error Occurs  â”‚â”€â”€â”€â–¶â”‚ Error Detection â”‚â”€â”€â”€â–¶â”‚ Error Classificationâ”‚              â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Authentication  â”‚    â”‚ Data Type       â”‚    â”‚ API Rate Limit  â”‚                â”‚
â”‚  â”‚ Error           â”‚    â”‚ Error           â”‚    â”‚ Error           â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Token Expired â”‚    â”‚ â€¢ Non-numeric   â”‚    â”‚ â€¢ OpenAI Quota  â”‚                â”‚
â”‚  â”‚ â€¢ Invalid Creds â”‚    â”‚ â€¢ Type Mismatch â”‚    â”‚ â€¢ Fabric Limits â”‚                â”‚
â”‚  â”‚ â€¢ Permission    â”‚    â”‚ â€¢ Conversion    â”‚    â”‚ â€¢ Backoff Logic â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Connection      â”‚    â”‚ Memory          â”‚    â”‚ Code Execution  â”‚                â”‚
â”‚  â”‚ Error           â”‚    â”‚ Error           â”‚    â”‚ Error           â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Network Issue â”‚    â”‚ â€¢ Out of Memory â”‚    â”‚ â€¢ Syntax Error  â”‚                â”‚
â”‚  â”‚ â€¢ Timeout       â”‚    â”‚ â€¢ Large Dataset â”‚    â”‚ â€¢ Runtime Error â”‚                â”‚
â”‚  â”‚ â€¢ DNS Failure   â”‚    â”‚ â€¢ Memory Leak   â”‚    â”‚ â€¢ Logic Error   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              ERROR RESPONSE STRATEGY                           â”‚ â”‚
â”‚  â”‚                                                                                 â”‚ â”‚
â”‚  â”‚ â€¢ Show User-Friendly Message    â€¢ Provide Retry Options    â€¢ Log Error Detailsâ”‚ â”‚
â”‚  â”‚ â€¢ Suggest Solutions             â€¢ Offer Alternative Paths   â€¢ Monitor Patterns â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Decision Tree Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DECISION TREE FLOW                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  User Question                                                                      â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â–¼                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                               â”‚
â”‚  â”‚ Question Type?  â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                               â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Data Analysis â”€â”€â–¶ Data Analysis Flow                                     â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Comparison â”€â”€â”€â”€â”€â–¶ Comparison Flow                                        â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Filtering â”€â”€â”€â”€â”€â”€â–¶ Filtering Flow                                         â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Aggregation â”€â”€â”€â”€â–¶ Aggregation Flow                                       â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â””â”€ Other â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ General Analysis Flow                                   â”‚
â”‚                                                                                     â”‚
â”‚  Data Analysis Flow                                                                â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Check data types                                                          â”‚
â”‚       â”œâ”€ Identify numeric columns                                                  â”‚
â”‚       â”œâ”€ Perform statistical analysis                                              â”‚
â”‚       â””â”€ Generate visualizations                                                   â”‚
â”‚                                                                                     â”‚
â”‚  Comparison Flow                                                                   â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Group by categorical columns                                             â”‚
â”‚       â”œâ”€ Calculate metrics for each group                                         â”‚
â”‚       â”œâ”€ Perform statistical tests                                                â”‚
â”‚       â””â”€ Create comparison visualizations                                         â”‚
â”‚                                                                                     â”‚
â”‚  Filtering Flow                                                                    â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Apply date filters                                                        â”‚
â”‚       â”œâ”€ Apply categorical filters                                                 â”‚
â”‚       â”œâ”€ Apply numeric range filters                                               â”‚
â”‚       â””â”€ Combine multiple filters                                                  â”‚
â”‚                                                                                     â”‚
â”‚  Aggregation Flow                                                                  â”‚
â”‚       â”‚                                                                             â”‚
â”‚       â”œâ”€ Group by relevant columns                                                â”‚
â”‚       â”œâ”€ Calculate aggregations (sum, mean, count)                                â”‚
â”‚       â”œâ”€ Handle missing values                                                     â”‚
â”‚       â””â”€ Present aggregated results                                               â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Memory Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MEMORY MANAGEMENT FLOW                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Memory Check  â”‚â”€â”€â”€â–¶â”‚ Memory Usage    â”‚â”€â”€â”€â–¶â”‚ Memory Action   â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚ Assessment      â”‚    â”‚ Decision        â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ LOW MEMORY      â”‚    â”‚ MEDIUM MEMORY   â”‚    â”‚ HIGH MEMORY     â”‚                â”‚
â”‚  â”‚ (< 50%)         â”‚    â”‚ (50-80%)        â”‚    â”‚ (> 80%)        â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Normal ops    â”‚    â”‚ â€¢ Monitor       â”‚    â”‚ â€¢ Force GC      â”‚                â”‚
â”‚  â”‚ â€¢ Cache freely  â”‚    â”‚ â€¢ Limit cache   â”‚    â”‚ â€¢ Clear cache   â”‚                â”‚
â”‚  â”‚ â€¢ No warnings   â”‚    â”‚ â€¢ Show warnings â”‚    â”‚ â€¢ Show alerts   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Continue Normal â”‚    â”‚ Optimize Usage  â”‚    â”‚ Emergency Mode  â”‚                â”‚
â”‚  â”‚ Operations      â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚ â€¢ Reduce batch  â”‚    â”‚ â€¢ Stop new ops  â”‚                â”‚
â”‚  â”‚ â€¢ Full caching  â”‚    â”‚ â€¢ Clear old     â”‚    â”‚ â€¢ Clear all     â”‚                â”‚
â”‚  â”‚ â€¢ Large batches â”‚    â”‚ â€¢ Monitor       â”‚    â”‚ â€¢ User warning  â”‚                â”‚
â”‚  â”‚ â€¢ No limits     â”‚    â”‚ â€¢ Alert user    â”‚    â”‚ â€¢ Restart if    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Performance Optimization Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              PERFORMANCE OPTIMIZATION FLOW                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Performance     â”‚â”€â”€â”€â–¶â”‚ Bottleneck      â”‚â”€â”€â”€â–¶â”‚ Optimization    â”‚                â”‚
â”‚  â”‚ Monitoring      â”‚    â”‚ Identification   â”‚    â”‚ Strategy        â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Vector Search   â”‚    â”‚ Data Fetching   â”‚    â”‚ LLM Processing  â”‚                â”‚
â”‚  â”‚ Slow            â”‚    â”‚ Slow            â”‚    â”‚ Slow            â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Reduce top_n  â”‚    â”‚ â€¢ Increase batch â”‚   â”‚ â€¢ Reduce tokens â”‚                â”‚
â”‚  â”‚ â€¢ Use FAISS     â”‚    â”‚ â€¢ Cache results â”‚   â”‚ â€¢ Stream output â”‚                â”‚
â”‚  â”‚ â€¢ GPU accel     â”‚    â”‚ â€¢ Parallel fetchâ”‚   â”‚ â€¢ Async calls   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚           â”‚                       â”‚                       â”‚                        â”‚
â”‚           â–¼                       â–¼                       â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ Memory Usage    â”‚    â”‚ Network Latency â”‚    â”‚ User Experience â”‚                â”‚
â”‚  â”‚ High            â”‚    â”‚ High            â”‚    â”‚ Poor            â”‚                â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚                â”‚
â”‚  â”‚ â€¢ Clear cache   â”‚    â”‚ â€¢ Retry logic   â”‚    â”‚ â€¢ Progress bar  â”‚                â”‚
â”‚  â”‚ â€¢ Batch process â”‚    â”‚ â€¢ Connection    â”‚    â”‚ â€¢ Status updatesâ”‚                â”‚
â”‚  â”‚ â€¢ Stream data   â”‚    â”‚ pooling        â”‚    â”‚ â€¢ Error handlingâ”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Fine-Tuning & Domain Adaptation Flow:
- Export Q&A/code pairs from SQL Editor as CSV.
- Fine-tune embedding model using the utility script and local CSV file.
- No direct SQL access in fine-tuning utility.
- Dependencies: accelerate, datasets (see requirements.txt).

Troubleshooting:
See TROUBLESHOOTING.md for a list of known issues, ODBC/pyodbc driver troubleshooting, and solutions for common errors.

## ğŸš€ What's New in v2.1
- Model, table, and date selection are now in the main RAG QA tab (not the sidebar).
- Data preview and RAG QA support pagination for large tables.
- Data fetching and preview steps show progress bars.
- Automatic sampling is used for large datasets to improve performance.
- LLM context always includes unique values for categorical columns and guidance for substring/case-insensitive filtering.
- See TROUBLESHOOTING.md for new error handling and performance tips.

---

**Version**: 2.0.0  
**Last Updated**: December 2024  
**Status**: Production Ready 